

<h1>Date sélectionnée</h1>
<!-- https://bootsnipp.com/snippets/VgzeR -->
<div class="row">
    <div class="col-5">
    <form method="post">

        <div class="form-group row justify-content-center">
            <div class="col-12 m-2">
                <button class="btn-success btn d-inline-block" type="submit" value="{{ today | date ('m-d-Y') }}" id="example-date-input">Rechercher par date</button>
            </div>
                <div class="col-12 m-2">
                <input class="form-control" type="date" name ="picked_date" value="" id="example-date-input">
            </div>


        </div>

    </form>
    </div>
</div>

<!-- the row below manages the date carousel. date_modify takes the "+X day" as parameter. Related JS and css in specific files. -->
<div class="row justify-content-center">
    <div class="col-12">
        <ul class="bxslider">
            <!-- display 3 days before the selected date in the calendar -->
            <a href="{{ path('calendar_select_day', {"day" : today | date_modify('- 3 days') | date('Y-m-d')}) }}">
                <li class="month-day">
                    <div class="week">{{ today | date_modify('- 3 days') | date('D') }}</div><div class="day-month">{{
                        today | date_modify('- 3 days')  | date('d-M') }}</div>
                </li>
            </a>

            <a href="{{ path('calendar_select_day', {"day" : today | date_modify('- 2 days') | date('Y-m-d')}) }}">
                <li class="month-day">
                    <div class="week">{{ today | date_modify('- 2 days') | date('D') }}</div><div class="day-month">{{
                        today | date_modify('- 2 days')  | date('d-M') }}</div>
                </li>
            </a>

            <a href="{{ path('calendar_select_day', {"day" : today | date_modify('- 1 day') | date('Y-m-d')}) }}">
                <li class="month-day">
                    <div class="week">{{ today | date_modify('- 1 day') | date('D') }}</div><div class="day-month">{{ today | date_modify('- 1 day')  | date('d-M') }}</div>
                </li>
            </a>



            <!-- display today's date and focus it with the active class -->
            <a href="{{ path('calendar_select_day', {"day" : today | date('Y-m-d')}) }}">

                <li class="month-day active">
                    <div class="week">{{ today | date('D') }}</div><div class="day-month">{{ today | date('d-M') }}</div>
                </li>

            {% for oneDay in oneMoreDay %}

           <a href="{{ path('calendar_select_day', {"day" : today | date_modify(oneDay) | date('Y-m-d')}) }}">

               <li class="month-day">
                   <div class="week">{{ today | date_modify(oneDay) | date('D') }}</div><div class="day-month">{{ today | date_modify(oneDay)  | date('d-M') }}</div>
               </li>

           </a>

            {% endfor %}
        </ul>
    </div>
</div>

<!-- below the display of spectacles. Same as the ones in search by theater. -->
{% if spectaclesOfTheDay is empty %}

    <p>Pas de spectacles ce jour-là</p>

{% endif %}
{% for spectacle in spectaclesOfTheDay%}

<div class="row row-striped">
    <div class="col-2 text-right">
        <h1 class="display-4"><span class="badge badge-secondary day-figure">{% for date in spectacle.showDates  %}{{ date
                .dateShow | date('d') }} {% endfor %}</span></h1>
        <h2>{% for date in spectacle.showDates  %}{{ date.dateShow | date('M')}} {%endfor %}</h2>
    </div>
    <div class="col-10">
        <h3 class="text-uppercase"><strong>{{ spectacle.title }}
                </strong></h3>
        <ul class="list-inline">
            <li class="list-inline-item"><i class="fa fa-calendar-o" aria-hidden="true"></i> {% for date in spectacle
                    .showDates %}{{ date
                .dateShow | date('D') }} {% endfor %}</li>
            <li class="list-inline-item"><i class="fa fa-clock-o" aria-hidden="true"></i> {% for date in spectacle.showDates  %}{{ date
                .dateShow | date('d.m.Y à H:i') }} - {{ date.dateShow |date_modify('+ 3 hours') | date('H:i')}}
                {% endfor %} </li>
            <li class="list-inline-item"><i class="fa fa-location-arrow" aria-hidden="true"></i> {{ spectacle.theater.name }}</li>
        </ul>
        <p>{{ spectacle.description }}</p>
    </div>
</div>
{% endfor %}


